<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaign Tracker - Warhammer 40k</title>
    <link rel="stylesheet" href="../warhammer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=UnifrakturMaguntia&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="main-header">
            <div class="header-content">
                <div class="aquila-left"></div>
                <h1 class="title">GRIMDARK ARCHIVES</h1>
                <div class="aquila-right"></div>
            </div>
            <div class="page-indicator">CRUSADE CAMPAIGNS</div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../warhammer.html#home" class="nav-link">Main Archives</a></li>
                    <li><a href="../warhammer.html#armies" class="nav-link">Armies</a></li>
                    <li><a href="../warhammer.html#lore" class="nav-link">Lore</a></li>
                    <li><a href="army-builder.html" class="nav-link">Army Builder</a></li>
                    <li><a href="dice-roller.html" class="nav-link">Dice Roller</a></li>
                    <li><a href="collection-tracker.html" class="nav-link">Collection</a></li>
                    <li><a href="tactics.html" class="nav-link">Tactics</a></li>
                    <li><a href="campaign-tracker.html" class="nav-link active">Campaign</a></li>
                    <li><a href="rules-reference.html" class="nav-link">Rules</a></li>
                    <li><a href="painting-guide.html" class="nav-link">Painting Guide</a></li>
                </ul>
            </nav>
        </header>

        <div class="breadcrumbs">
            <a href="../../../index.html">Home</a>
            <span class="separator">></span>
            <a href="../../hobbies.html">Hobbies</a>
            <span class="separator">></span>
            <a href="../warhammer.html">Warhammer</a>
            <span class="separator">></span>
            <span class="current">Campaign Tracker</span>
        </div>

        <main>
            <section class="content-section">
                <h2 class="section-title">CRUSADE CAMPAIGNS</h2>
                
                <div class="campaign-tracker">
                    <!-- Campaign Overview -->
                    <div class="campaign-overview">
                        <div class="overview-stats">
                            <div class="stat-card">
                                <h4>Active Campaigns</h4>
                                <span class="stat-value" id="active-campaigns-count">0</span>
                            </div>
                            <div class="stat-card">
                                <h4>Total Battles</h4>
                                <span class="stat-value" id="total-battles-count">0</span>
                            </div>
                            <div class="stat-card">
                                <h4>Units Leveled</h4>
                                <span class="stat-value" id="units-leveled-count">0</span>
                            </div>
                            <div class="stat-card">
                                <h4>Total XP</h4>
                                <span class="stat-value" id="total-xp-count">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Campaign Creation -->
                    <div class="campaign-creator">
                        <div class="creator-header">
                            <h3>Start New Crusade</h3>
                            <button class="info-btn" title="Crusade Campaigns are narrative campaigns where your units gain experience, battle honors, and scars over multiple battles.">?</button>
                        </div>
                        
                        <form id="campaign-form" class="campaign-form">
                            <div class="form-group">
                                <label for="campaign-name">Campaign Name:</label>
                                <input type="text" id="campaign-name" placeholder="The Macharian Crusade" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="campaign-faction">Your Faction:</label>
                                <select id="campaign-faction" required>
                                    <option value="">Select Faction</option>
                                    <option value="space_marines">Space Marines</option>
                                    <option value="imperial_guard">Imperial Guard</option>
                                    <option value="chaos">Chaos Space Marines</option>
                                    <option value="necrons">Necrons</option>
                                    <option value="orks">Orks</option>
                                    <option value="tyranids">Tyranids</option>
                                    <option value="aeldari">Aeldari</option>
                                    <option value="tau">T'au Empire</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="campaign-narrative">Campaign Narrative:</label>
                                <textarea id="campaign-narrative" placeholder="Describe the story of your crusade, its objectives, and the enemies you face..." rows="3"></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="supply-limit">Starting Supply Limit:</label>
                                    <input type="number" id="supply-limit" min="500" max="5000" value="1000">
                                </div>
                                
                                <div class="form-group">
                                    <label for="starting-cp">Starting Command Points:</label>
                                    <input type="number" id="starting-cp" min="0" max="50" value="5">
                                </div>
                                
                                <div class="form-group">
                                    <label for="campaign-type">Campaign Type:</label>
                                    <select id="campaign-type">
                                        <option value="crusade">Crusade</option>
                                        <option value="narrative">Narrative Play</option>
                                        <option value="tournament">Tournament Practice</option>
                                        <option value="escalation">Escalation League</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="imperial-btn">Begin Crusade</button>
                                <button type="button" id="load-template" class="imperial-btn-secondary">Load Template</button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Active Campaigns -->
                    <div class="active-campaigns">
                        <div class="section-header">
                            <h3>Active Crusades</h3>
                            <div class="campaign-filters">
                                <button class="filter-btn active" data-filter="all">All</button>
                                <button class="filter-btn" data-filter="active">Active</button>
                                <button class="filter-btn" data-filter="completed">Completed</button>
                                <button class="filter-btn" data-filter="paused">Paused</button>
                            </div>
                        </div>
                        
                        <div class="campaigns-grid" id="campaigns-grid">
                            <!-- Campaign cards will be populated by JavaScript -->
                            <div class="empty-state">
                                <div class="empty-icon">⚔️</div>
                                <h4>No Active Campaigns</h4>
                                <p>Start your first crusade to begin tracking your narrative battles!</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Campaign Details Modal (hidden by default) -->
                    <div class="modal-overlay" id="campaign-modal-overlay" style="display: none;">
                        <div class="modal" id="campaign-modal">
                            <div class="modal-header">
                                <h3 id="modal-campaign-name">Campaign Details</h3>
                                <button class="close-modal">&times;</button>
                            </div>
                            <div class="modal-content" id="campaign-details">
                                <!-- Campaign details will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Current Campaign Focus -->
                    <div class="current-campaign" id="current-campaign-section" style="display: none;">
                        <div class="focus-header">
                            <h3>Current Campaign Focus</h3>
                            <div class="focus-actions">
                                <button id="add-battle-btn" class="imperial-btn">Record Battle</button>
                                <button id="add-unit-btn" class="imperial-btn">Add Unit</button>
                                <button id="edit-campaign-btn" class="imperial-btn-secondary">Edit Campaign</button>
                            </div>
                        </div>
                        
                        <div class="focus-content">
                            <div class="campaign-info-card">
                                <div class="info-header">
                                    <h4 id="current-campaign-name">Campaign Name</h4>
                                    <span class="campaign-status active">Active</span>
                                </div>
                                <div class="info-body">
                                    <p id="current-campaign-narrative">No narrative set.</p>
                                    <div class="info-stats">
                                        <div class="info-stat">
                                            <span>Supply Limit:</span>
                                            <strong id="current-supply-limit">1000</strong>
                                        </div>
                                        <div class="info-stat">
                                            <span>Command Points:</span>
                                            <strong id="current-command-points">5</strong>
                                        </div>
                                        <div class="info-stat">
                                            <span>Battles:</span>
                                            <strong id="current-battles-count">0</strong>
                                        </div>
                                        <div class="info-stat">
                                            <span>Total XP:</span>
                                            <strong id="current-total-xp">0</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Units Roster -->
                            <div class="units-roster">
                                <div class="roster-header">
                                    <h4>Order of Battle</h4>
                                    <div class="roster-actions">
                                        <button id="level-up-btn" class="imperial-btn-small">Level Up Unit</button>
                                        <button id="add-battle-honor-btn" class="imperial-btn-small">Add Battle Honor</button>
                                        <button id="add-battle-scar-btn" class="imperial-btn-small">Add Battle Scar</button>
                                    </div>
                                </div>
                                
                                <div class="roster-table-container">
                                    <table class="roster-table" id="units-roster-table">
                                        <thead>
                                            <tr>
                                                <th>Unit</th>
                                                <th>Type</th>
                                                <th>XP</th>
                                                <th>Level</th>
                                                <th>Battle Honors</th>
                                                <th>Battle Scars</th>
                                                <th>Crusade Points</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="units-roster-body">
                                            <!-- Units will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="roster-summary">
                                    <div class="summary-item">
                                        <span>Total Units:</span>
                                        <strong id="total-units-count">0</strong>
                                    </div>
                                    <div class="summary-item">
                                        <span>Total Crusade Points:</span>
                                        <strong id="total-crusade-points">0</strong>
                                    </div>
                                    <div class="summary-item">
                                        <span>Average Level:</span>
                                        <strong id="average-unit-level">0</strong>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Battle Log -->
                            <div class="battle-log-section">
                                <div class="battle-log-header">
                                    <h4>Battle Log</h4>
                                    <button id="view-all-battles-btn" class="imperial-btn-small">View All Battles</button>
                                </div>
                                
                                <div class="battle-log-entries" id="battle-log-entries">
                                    <!-- Battle entries will be populated here -->
                                    <div class="empty-battles">
                                        <p>No battles recorded yet.</p>
                                        <p>Click "Record Battle" to add your first battle report!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Recorder Modal -->
                    <div class="modal-overlay" id="battle-modal-overlay" style="display: none;">
                        <div class="modal battle-modal">
                            <div class="modal-header">
                                <h3>Record Battle</h3>
                                <button class="close-modal">&times;</button>
                            </div>
                            <div class="modal-content">
                                <form id="battle-form">
                                    <div class="form-group">
                                        <label for="battle-name">Battle Name:</label>
                                        <input type="text" id="battle-name" placeholder="Battle of Macragge" required>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="battle-date">Date:</label>
                                            <input type="date" id="battle-date" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="battle-opponent">Opponent:</label>
                                            <input type="text" id="battle-opponent" placeholder="Opponent's Name/Army" required>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="battle-type">Battle Type:</label>
                                            <select id="battle-type" required>
                                                <option value="incursion">Incursion (1000pts)</option>
                                                <option value="strike_force">Strike Force (2000pts)</option>
                                                <option value="onslaught">Onslaught (3000pts)</option>
                                                <option value="patrol">Patrol (500pts)</option>
                                                <option value="narrative">Narrative Mission</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="battle-result">Result:</label>
                                            <select id="battle-result" required>
                                                <option value="victory">Victory</option>
                                                <option value="defeat">Defeat</option>
                                                <option value="draw">Draw</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="battle-details">Battle Details:</label>
                                        <textarea id="battle-details" placeholder="Describe the battle, key moments, heroic acts, etc..." rows="3"></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>XP Awards:</label>
                                        <div class="xp-awards">
                                            <div class="xp-award">
                                                <label>
                                                    <input type="checkbox" name="xp-awards" value="5" checked>
                                                    <span>Participation (5 XP)</span>
                                                </label>
                                            </div>
                                            <div class="xp-award">
                                                <label>
                                                    <input type="checkbox" name="xp-awards" value="1">
                                                    <span>Slay the Warlord (1 XP)</span>
                                                </label>
                                            </div>
                                            <div class="xp-award">
                                                <label>
                                                    <input type="checkbox" name="xp-awards" value="1">
                                                    <span>First Blood (1 XP)</span>
                                                </label>
                                            </div>
                                            <div class="xp-award">
                                                <label>
                                                    <input type="checkbox" name="xp-awards" value="1">
                                                    <span>Linebreaker (1 XP)</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Units Participated:</label>
                                        <div class="units-participated" id="units-participated-list">
                                            <!-- Units will be populated by JavaScript -->
                                        </div>
                                    </div>
                                    
                                    <div class="form-actions">
                                        <button type="submit" class="imperial-btn">Record Battle</button>
                                        <button type="button" class="imperial-btn-secondary close-modal">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Unit Details Modal -->
                    <div class="modal-overlay" id="unit-modal-overlay" style="display: none;">
                        <div class="modal unit-modal">
                            <div class="modal-header">
                                <h3 id="unit-modal-title">Unit Details</h3>
                                <button class="close-modal">&times;</button>
                            </div>
                            <div class="modal-content" id="unit-details-content">
                                <!-- Unit details will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="imperial-footer">
            <div class="footer-content">
                <p class="footer-text">"In the Emperor's name, let none survive."</p>
                <p class="footer-subtext">Oath of the Crusader</p>
            </div>
            <div class="copyright">
                <p>© 999.M41 Imperial Archives</p>
            </div>
        </footer>
    </div>

    <div class="grimdark-overlay"></div>
    <div class="scan-line"></div>

    <!-- JavaScript -->
    <script src="../warhammer.js"></script>
    <script src="campaign-tracker.js"></script>
</body>
</html>